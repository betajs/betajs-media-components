<!DOCTYPE html>
<html lang="en">
<head>
    <script src="../vendors/jquery.min.js"></script>
    <script src="../node_modules/betajs-shims/dist/betajs-shims.js"></script>
    <script src="../node_modules/betajs-scoped/dist/scoped.js"></script>
    <script src="../node_modules/betajs/dist/beta-noscoped.js"></script>
    <script src="../node_modules/betajs-browser/dist/betajs-browser-noscoped.js"></script>
    <script src="../node_modules/betajs-media/dist/betajs-media-noscoped.js"></script>
    <script src="../node_modules/betajs-dynamics/dist/betajs-dynamics-noscoped.js"></script>
    <script src="../dist/betajs-media-components-noscoped.js"></script>
    <link  href="../dist/betajs-media-components.css" rel="stylesheet" />
    <script src="../dist/themes/modern/script.js"></script>
    <link  href="../dist/themes/modern/style.css" rel="stylesheet" />
</head>

<script>
    var v3_non_linear = '//localhost:5050/static/demos/vast-samples/VAST_3_0/Inline_Non-Linear_Tag-test.xml';
    var v4_2_skipable = '//localhost:5050/static/demos/vast-samples/VAST_4_2/Inline_Skipable.xml';
    var v4_2_non_skipable = '//localhost:5050/static/demos/vast-samples/VAST_4_2/Inline_NON_Skipable.xml';


    var adsense = new BetaJS.MediaComponents.Ads.IMAProvider({
        adTagUrl: 'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator='
        // adTagUrl: v4_2_skipable
        // , customSkipView: true
        // , skipAfter: 3
        , nonLinearDuration: 5 // default will be 10 seconds
    });
    adsense.register("ima");

</script>

<body style="background: #EEE">
<ba-videoplayer
    ba-theme="modern"
    ba-loopall="false"
    ba-playlist="{{[
        {poster: 'sample-cover2.png', source: 'sample-video2.mp4'},
        {poster: 'sample-cover.png', source: 'sample-video.mp4'},
        {poster: 'sample-cover.png', source: 'sample-video3.mp4'}
    ]}}"
    ba-autoplay
    ba-adprovider="ima"
    ba-linear="pre, mid[12, 70%], post"
></ba-videoplayer>
<!--    ba-linear="pre,mid[44, 50%], post"-->

<script>
    BetaJS.Dynamics.Dynamic.activate();

    var player = BetaJS.Dynamics.Dynamic.findByElement($("ba-videoplayer"));

    player.on("attached", function (playerInstance) {
        // this.addSettingsMenuItem({set: 'Somen'});
        // playerInstance.add_setting({setting: 'someID'});
        playerInstance.on("fullscreen-change", function (isFullscreen) {
            console.log('is Full', isFullscreen);
        }, this);

        // this.on("loaded", () => {
        //     console.log('Player >> ', this);
        // }, this);
    }, player);

    player.on("ended", function () {
        console.log('ENDED');
    }, player);

    player.activate();


</script>
</body>
</html>
