<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="/static/vendors/jquery.min.js"></script>
    <script src="/static/node_modules/betajs-shims/dist/betajs-shims.js"></script>
    <script src="/static/node_modules/betajs-scoped/dist/scoped.js"></script>
    <script src="/static/node_modules/betajs/dist/beta-noscoped.js"></script>
    <script src="/static/node_modules/betajs-browser/dist/betajs-browser-noscoped.js"></script>
    <script src="/static/node_modules/betajs-media/dist/betajs-media-noscoped.js"></script>
    <script src="/static/node_modules/betajs-dynamics/dist/betajs-dynamics-noscoped.js"></script>
    <script src="/static/dist/betajs-media-components-noscoped.js"></script>
    <!--    <script src="/static/demos/tmp/current.js"></script>-->
    <link  href="/static/dist/betajs-media-components.css" rel="stylesheet" />
    <script src="/static/dist/themes/modern/script.js"></script>
    <link  href="/static/dist/themes/modern/style.css" rel="stylesheet" />


    <!-- Cube Theme Assets -->
    <script src="/static/dist/themes/cube/script.js"></script>
    <link href="/static/dist/themes/cube/style.css" rel="stylesheet" />

    <!-- Elevate Theme Assets -->
    <script src="/static/dist/themes/elevate/script.js"></script>
    <link href="/static/dist/themes/elevate/style.css" rel="stylesheet" />

    <!-- Minimalist Theme Assets -->
    <script src="/static/dist/themes/minimalist/script.js"></script>
    <link href="/static/dist/themes/minimalist/style.css" rel="stylesheet" />

    <!-- Minimalist Theme Assets -->
    <script src="/static/dist/themes/modern/script.js"></script>
    <link href="/static/dist/themes/modern/style.css" rel="stylesheet" />

    <!-- Space Theme Assets -->
    <script src="/static/dist/themes/space/script.js"></script>
    <link href="/static/dist/themes/space/style.css" rel="stylesheet" />

    <!-- Theatre Theme Assets -->
    <script src="/static/dist/themes/theatre/script.js"></script>
    <link href="/static/dist/themes/theatre/style.css" rel="stylesheet" />

    <script>
        if (!HTMLScriptElement.supports?.("importmap")) {
            console.log("Browser does not supports import maps. Please use modern browser for tetsing.");
        }
    </script>
</head>
<body style="background: #EEE; margin: 0; padding: 0 15px">
<div id="before-player-content" class="row" style="display: none; margin-bottom: 20px">
    <div class="col-xs-12" style="min-height: calc(100vh + 10vh);">
        <h1 data-testid="h1-header">FIRST PARAGRAPH BEFORE PLAYER WITH HEIGHT 1300px</h1>
    </div>
</div>
<div class="row">
    <div class="col-xs-12">
        <div id="player"></div>
    </div>
</div>

<div id="after-player-content" class="row" style="display: none; margin-top: 20px">
    <div class="col-xs-12" style="min-height: calc(100vh + 50vh);">
        <h2 data-testid="h2-header">AFTER PLAYER PARAGRAPH BEFORE PLAYER WITH HEIGHT 1300px</h2>
    </div>
</div>

<script type="module">
    import { attrs, showBlocks, generateParagraphs } from "./assets/options.js";

    // Show content for floating and sticky testing
    const beforePlayerContent = document.getElementById("before-player-content");
    const afterPlayerContent = document.getElementById("after-player-content");

    if (beforePlayerContent && afterPlayerContent && showBlocks > 0) {
        afterPlayerContent.style.display = "block";
        generateParagraphs(afterPlayerContent.firstElementChild, 10);
        if (showBlocks > 1) {
            beforePlayerContent.style.display = "block";
            generateParagraphs(beforePlayerContent.firstElementChild, 20);
        }
    }

    if (attrs.testInBrowser) {
        const attrs = {
            autoplay: true,
            width: 640,
            height: 360,
            adtagurl: `https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator=`,
            source: `/static/demos/sample-video.mp4`,
            poster: `/static/demos/assets/sample-cover.png`
        }

        const player = new BetaJS.MediaComponents.VideoPlayer.Dynamics.Player({
            element: $('#player'),
            attrs
        });

        // player.on(`attached`, () => {
        //     console.log(`Player attached... from html`);
        // }, player);

        player.activate();
    }
</script>
</body>
</html>
